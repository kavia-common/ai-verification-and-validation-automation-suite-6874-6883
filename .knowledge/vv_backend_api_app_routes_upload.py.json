{"is_source_file": true, "format": "Python", "description": "This file defines a Flask API endpoint for uploading SRS files, supporting multiple file formats like CSV, Excel, JSON, Markdown, and plain text. It includes helper functions for parsing and normalizing uploaded data into a standardized text format, and creates database entries for the uploaded content.", "external_files": ["../db", "../db/models", "../services/storage_service"], "external_methods": ["session_scope", "StorageService.path_for_upload"], "published": ["blp", "SRSUploadResponse", "SRSUpload"], "classes": [{"name": "SRSUploadResponse", "description": "Schema for serializing the response of an uploaded SRS, including id, title, description, and content."}, {"name": "SRSUpload", "description": "Flask MethodView handling POST requests for uploading files and creating SRS entries."}], "methods": [{"name": "_try_import_pandas()", "description": "Attempts to import pandas for Excel parsing, returns pandas module or None.", "scope": "", "scopeKind": ""}, {"name": "_try_openpyxl_engine()", "description": "Checks for openpyxl engine availability for pandas Excel reading, returns engine name or None.", "scope": "", "scopeKind": ""}, {"name": "str _ext_of(filename: str)", "description": "Determines the file extension from filename, matching supported types.", "scope": "", "scopeKind": ""}, {"name": "str _normalize_text_from_csv_bytes(data: bytes, encoding: str = \"utf-8\")", "description": "Converts CSV bytes to markdown-like string with headers and rows.", "scope": "", "scopeKind": ""}, {"name": "str _normalize_text_from_excel_bytes(data: bytes)", "description": "Parses Excel bytes using pandas (if available) and converts sheets to markdown-like tables.", "scope": "", "scopeKind": ""}, {"name": "post(self)", "scope": "SRSUpload", "scopeKind": "class", "description": "unavailable"}], "calls": ["request.files", "request.form.get", "secure_filename", "storage.path_for_upload", "open", "session_scope", "db.add", "db.flush"], "search-terms": ["upload endpoint", "SRS file parsing", "Excel normalization", "CSV normalization", "Flask MethodView", "file saving", "pandas import"], "state": 2, "file_id": 18, "knowledge_revision": 45, "git_revision": "8c6fc7a1037b600a507aa38bffb76fdc53b72bc5", "ctags": [{"_type": "tag", "name": "SRSUpload", "path": "/home/kavia/workspace/code-generation/ai-verification-and-validation-automation-suite-6874-6883/vv_backend_api/app/routes/upload.py", "pattern": "/^class SRSUpload(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SRSUploadResponse", "path": "/home/kavia/workspace/code-generation/ai-verification-and-validation-automation-suite-6874-6883/vv_backend_api/app/routes/upload.py", "pattern": "/^class SRSUploadResponse(Schema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_ext_of", "path": "/home/kavia/workspace/code-generation/ai-verification-and-validation-automation-suite-6874-6883/vv_backend_api/app/routes/upload.py", "pattern": "/^def _ext_of(filename: str) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(filename: str)"}, {"_type": "tag", "name": "_normalize_text_from_csv_bytes", "path": "/home/kavia/workspace/code-generation/ai-verification-and-validation-automation-suite-6874-6883/vv_backend_api/app/routes/upload.py", "pattern": "/^def _normalize_text_from_csv_bytes(data: bytes, encoding: str = \"utf-8\") -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(data: bytes, encoding: str = \"utf-8\")"}, {"_type": "tag", "name": "_normalize_text_from_excel_bytes", "path": "/home/kavia/workspace/code-generation/ai-verification-and-validation-automation-suite-6874-6883/vv_backend_api/app/routes/upload.py", "pattern": "/^def _normalize_text_from_excel_bytes(data: bytes) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(data: bytes)"}, {"_type": "tag", "name": "_try_import_pandas", "path": "/home/kavia/workspace/code-generation/ai-verification-and-validation-automation-suite-6874-6883/vv_backend_api/app/routes/upload.py", "pattern": "/^def _try_import_pandas():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_try_openpyxl_engine", "path": "/home/kavia/workspace/code-generation/ai-verification-and-validation-automation-suite-6874-6883/vv_backend_api/app/routes/upload.py", "pattern": "/^def _try_openpyxl_engine():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "blp", "path": "/home/kavia/workspace/code-generation/ai-verification-and-validation-automation-suite-6874-6883/vv_backend_api/app/routes/upload.py", "pattern": "/^blp = Blueprint($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/ai-verification-and-validation-automation-suite-6874-6883/vv_backend_api/app/routes/upload.py", "pattern": "/^    content = fields.Str(allow_none=True)$/", "language": "Python", "kind": "variable", "scope": "SRSUploadResponse", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/ai-verification-and-validation-automation-suite-6874-6883/vv_backend_api/app/routes/upload.py", "pattern": "/^    description = fields.Str(allow_none=True)$/", "language": "Python", "kind": "variable", "scope": "SRSUploadResponse", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/ai-verification-and-validation-automation-suite-6874-6883/vv_backend_api/app/routes/upload.py", "pattern": "/^    id = fields.Int(dump_only=True)$/", "language": "Python", "kind": "variable", "scope": "SRSUploadResponse", "scopeKind": "class"}, {"_type": "tag", "name": "pd", "path": "/home/kavia/workspace/code-generation/ai-verification-and-validation-automation-suite-6874-6883/vv_backend_api/app/routes/upload.py", "pattern": "/^        import pandas as pd  # type: ignore$/", "file": true, "language": "Python", "kind": "namespace", "scope": "_try_import_pandas", "scopeKind": "function", "nameref": "module:pandas"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/ai-verification-and-validation-automation-suite-6874-6883/vv_backend_api/app/routes/upload.py", "pattern": "/^    def post(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SRSUpload", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/ai-verification-and-validation-automation-suite-6874-6883/vv_backend_api/app/routes/upload.py", "pattern": "/^    title = fields.Str()$/", "language": "Python", "kind": "variable", "scope": "SRSUploadResponse", "scopeKind": "class"}], "hash": "fd2afe96fe7f82951e0994099f15d315", "format-version": 4, "code-base-name": "vv_backend_api", "filename": "vv_backend_api/app/routes/upload.py", "fields": [{"name": "blp = Blueprint(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "content = fields.Str(allow_none=True)", "scope": "SRSUploadResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "description = fields.Str(allow_none=True)", "scope": "SRSUploadResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "id = fields.Int(dump_only=True)", "scope": "SRSUploadResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "title = fields.Str()", "scope": "SRSUploadResponse", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"45": "8c6fc7a1037b600a507aa38bffb76fdc53b72bc5"}]}